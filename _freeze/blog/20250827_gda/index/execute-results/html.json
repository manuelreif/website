{
  "hash": "e21ed6a9cef90e10aa0c369ab0c6f5a9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Das Geheimnis der Abtei\"\ndescription: \"Wenn im Kloster 'schon wieder was passiert' ist und man schon dabei ist das Rätsel zu lösen, kann man sich nebenbei auch noch fragen, wie man am besten Punkte lukriert. Ja, es kann so einfach sein, wenn man es sich nicht unnötig schwer macht.\"\nauthor: Manuel Reif \ndate: 2025-08-27\nlang: de\ncategories: [Boardgames, R, Probabilities]\ndraft: false \nhighlight-style: monokai\nexecute:\n    eval: true\n    message: false\n    echo: false\n    warning: false\n    freeze: true\nfilters:\n   - include-code-files\n---\n\n::: {.cell}\n\n:::\n\n\n\n## Der Beginn\n\n<img src=\"media/gda2.jpg\" alt=\"Geheimnis der Abtei\" style=\"float: right; width: 32%; margin-left: 20px; margin-bottom: 10px;\"/>\n \n\nWie treffen wir Entscheidungen im Leben? Intuitiv und schnell aus dem \"Bauch heraus\"\noder durch sehr viel Nachdenken und Abwägen? \nIst das in Quizshows viel beschworene Bauchgefühl ein guter Ratgeber?\nDas ließe sich vermutlich mithilfe des Buchs von Kahneman \n[Schnelles Denken, langsames Denken](https://www.morawa.at/detail/ISBN-9783328100348/Kahneman-Daniel/Schnelles-Denken-langsames-Denken) \nbeantworten. \nDoch wir müssen gar nicht tief in das Buch eintauchen.\nSchon der Titel entpuppt sich als außerordentlich reichhaltig,\ndenn es lässt sich aus ihm die von Kahnemann\npostulierte Dichotomie ableiten: Er \nunterscheidet zwischen langsamem und schnellem Denken als 2 völlig \nunterschiedliche Systeme, vermutlich, weil sich \ndiese beiden qualitativ stark voneinander unterscheiden. Was ist aber, wenn\nbeide \"Denksysteme\" zum selben Ergebnis kommen? Das wäre doch ein gutes Zeichen?\nKongruenz schafft Vertrauen. Aber ist dieses Vertrauen dann auch gerechtfertigt?\nIn diesem Post möchte ich eine schmerzliche Denkerfahrung nachvollziehen,\ndie mich sowohl beim langesamen als auch beim schnellen Denken auf die falsche\nFährte lockte. \n\n## Das Spiel\n\nDie Geschichte dreht sich um ein leider vergriffenes aber sehr unterhaltsames Spiel:\n[Das Geheimnis der Abtei](https://www.spieletest.at/gesellschaftsspiel/1645/das-geheimnis-der-abtei),\ndas im Wesentlichen die Spielmechanik von Cluedo \nverwendet und um einige Elemente erweitert. Ein mordender Mönch hat zugeschlagen und hat\neinen seiner Mitbrüder getötet, so die inhaltliche Einkleidung. Alle Spieler wollen\nherausfinden wer es war. Jeder spielt für sich -- das Spiel ist nicht kooperativ.\n\nZiel des Spiels ist es, möglichst viele Punkte zu generieren indem man: \n\n1. Eigenschaften des Mörders identifiziert (z. B. der Mörder ist ein \"Abt\" oder \nder Mörder hat eine Kapuze etc.)\n2. den Mörder nennt (z. B. der Mörder ist \"Bruder Jakob\")\n\nEs gibt 24 unterschiedliche Mönchskarten. Jeder Mönch kann anhand von 5 Dimensionen\ncharakterisiert werden. @fig-moenche zeigt jenes Blatt, das alle\nMönche und damit alle möglichen Täter auflistet. Jeder Spieler erhält so ein \nBlatt und kann alle Mönche, die im Laufe des Spiels unverdächtig werden, markieren.\n\n::::{.columns}\n\n:::{.column width=\"30%\"}\n\n1. Zugehörigkeit zu einem Orden \n2. Rang \n3. Kapuze / Glatze\n4. Bart / kein Bart\n5. dünn / dick \n\n\n:::\n\n:::{.column width=\"70%\"}\n\n::: {#fig-moenche}\n![](media/alle_moenche.jpg){width=100% fig-alt=\"Alle 24 Mönchskarten und ein Beispiel-Spielerblatt\"}\n\nSpielerblatt mit allen existierenden Mönchen im Spiel.\n:::\n\n:::\n\n::::\n\n\nMittels @tbl-alle-moenche kann man eine Übersicht über die Anzahl der vorliegenden\nEigenschaften selbst erstellen und diese auch miteinander verkreuzen. In weiterer Folge\nwerden wir uns auf ein dichotomes Merkmal konzentrieren, nämlich: Hat\nder Täter eine **Kapuze**: ja/nein.\n\n\n\n\n::: {#tbl-alle-moenche .cell tbl-cap='Pivottabelle mit allen Mönchen, die im Spiel vorkommen'}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"htmlwidget-2d484b9c4f76dd804afc\" style=\"width:100%;height:292px;\" class=\"rpivotTable html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-2d484b9c4f76dd804afc\">{\"x\":{\"data\":{\"Orden\":[\"Templer\",\"Templer\",\"Templer\",\"Templer\",\"Templer\",\"Templer\",\"Templer\",\"Templer\",\"Franziskaner\",\"Franziskaner\",\"Franziskaner\",\"Franziskaner\",\"Franziskaner\",\"Franziskaner\",\"Franziskaner\",\"Franziskaner\",\"Benediktiner\",\"Benediktiner\",\"Benediktiner\",\"Benediktiner\",\"Benediktiner\",\"Benediktiner\",\"Benediktiner\",\"Benediktiner\"],\"Rang\":[\"Abt\",\"Abt\",\"Bruder\",\"Bruder\",\"Bruder\",\"Novize\",\"Novize\",\"Novize\",\"Abt\",\"Abt\",\"Bruder\",\"Bruder\",\"Bruder\",\"Novize\",\"Novize\",\"Novize\",\"Abt\",\"Abt\",\"Bruder\",\"Bruder\",\"Bruder\",\"Novize\",\"Novize\",\"Novize\"],\"Name\":[\"Matthias\",\"Wilhelm\",\"Fortuna\",\"Umberto\",\"Malwin\",\"Gerhard\",\"Burkhard\",\"Thomas\",\"Gottfried\",\"Michael\",\"Engelbert\",\"Kunibert\",\"Jakob\",\"Bartholomäus\",\"Andreas\",\"Niklas\",\"Bruno\",\"Sergio\",\"Berthold\",\"Julian\",\"Cyril\",\"Karl\",\"Philipp\",\"Gustav\"],\"Kopf\":[\"Kapuze\",\"Kapuze\",\"Kapuze\",\"Kapuze\",\"Glatze\",\"Glatze\",\"Glatze\",\"Kapuze\",\"Glatze\",\"Kapuze\",\"Kapuze\",\"Kapuze\",\"Glatze\",\"Kapuze\",\"Glatze\",\"Glatze\",\"Glatze\",\"Glatze\",\"Glatze\",\"Kapuze\",\"Glatze\",\"Kapuze\",\"Glatze\",\"Kapuze\"],\"Bart\":[\"kein Bart\",\"Bart\",\"Bart\",\"kein Bart\",\"Bart\",\"Bart\",\"kein Bart\",\"kein Bart\",\"Bart\",\"kein Bart\",\"Bart\",\"kein Bart\",\"kein Bart\",\"kein Bart\",\"Bart\",\"kein Bart\",\"Bart\",\"kein Bart\",\"kein Bart\",\"Bart\",\"Bart\",\"Bart\",\"Bart\",\"kein Bart\"],\"Statur\":[\"dick\",\"dünn\",\"dick\",\"dünn\",\"dünn\",\"dick\",\"dick\",\"dünn\",\"dick\",\"dünn\",\"dick\",\"dick\",\"dünn\",\"dick\",\"dünn\",\"dünn\",\"dick\",\"dünn\",\"dick\",\"dünn\",\"dünn\",\"dick\",\"dick\",\"dünn\"]},\"params\":{\"rows\":[\"Kopf\"],\"vals\":[\"Frequency\"]},\"locale\":\"en\",\"subtotals\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\nSoviel zu den Zielen und zum Spielmaterial. Was passiert nun während des Spiels?\nDer vereinfachte, stark verkürzte und schon im Hinblick auf das später zu \nlösende Problem optimiert dargestellte Ablauf sieht wie in @fig-ablauf aus. \n\n::::{.columns}\n\n:::{.column width=\"54%\"}\n\n::: {#fig-ablauf}\n![](media/ablauf.svg){width=100% fig-alt=\"Alle 24 Mönchskarten und ein Beispiel-Spielerblatt\"}\n\nSchematischer Spielablauf bis zu dem Zeitpunkt, an dem noch 6 Charaktere verdächtig sind.\n:::\n\n:::\n\n:::{.column width=\"46%\"}\n\n1. Aus dem Kartenstapel mit allen Mönchen wird einer entfernt (24 Karten) und \nverdeckt beiseite gelegt. Das ist der Übeltäter.\n2. Die meisten restlichen Karten werden unter den Spielern aufgeteilt. \nJeder Spieler kennt seine Karten und damit Charaktere, die unverdächtig sind!\n3. Durch Kartenweitergabe stellen von Fragen und ansehen von noch unbekannten Karten, \nwerden weitere unverdächtige Mönche bzw. deren Eigenschaften bekannt.\n4. Im Laufe des Spiels kann man mutmaßliche Merkmale des Täters nennen, z. B. ob dieser dick oder dünn ist und erhält am Ende des Spiels dafür, falls korrekt,\nPunkte. Wenn das genannte Merkmal nicht zutrifft, gibt es Minuspunkte.\n    \n:::\n\n::::\n\n\n## Die Frage    \n    \n::: {.callout-tip icon=false}\n## {{< bi question-circle size=25px >}} Die zentrale Frage\nKann ich auf Basis der noch verdächtigen Personen\ndie Wahrscheinlichkeit für ein Merkmal vorhersagen? Anders formuliert:\nKann ich mir sicherer sein, wenn ich viele Verdächtige mit Kapuze hab,\ndass der Täter auch eine Kapuze hat bzw. steigt die Sicherheit mit der Anzahl\nder Verdächtigen mit Kapuze?\n:::    \n    \nWerden wir noch konkreter. Der Spielablauf ist wie oben dargestellt. Ich sehe viele\nCharaktere und kann diese als unverdächtig abhaken. 6 Personen hab ich noch nicht\nabgehakt: Das sind meine Verdächtigen. Unter ihnen sind:\n\n- 5 mit Kapuze\n- 1 mit Glatze\n\n\nIst es nun rational davon auszugehen, dass der Täter mit einer höheren Wahrscheinlichkeit\neine Kapuze hat, weil noch mehr Personen mit Kapuze übrig sind? \nMein Gefühl sagt:\"Eher nein!\"\n\nAber ich wollte mich nicht auf mein Gefühl verlassen. Alle die sich mit \nWahrscheinlichkeiten auseinandergesetzt haben wissen: Da liegt man schonmal \nziemlich daneben. \nDaher ging ich in mich und strengte mich an das anfängliche Gefühl in was Rationales\nzu transformieren. Der Gedankengang war grob gesagt so:\n\n1. Ich habe zu Beginn eine **Gleichverteilung** von Kapuze vs. Glatze (jeweils 12 Karten).\n2. Es wird **eine** Karte entfernt. Wir wissen nicht, ob es sich um einen Kapuzenmönch\noder einen Glatzenmönch handelt -- also die Wahrscheinlichkeit ist 50:50.\n3. Der weitere Prozess, also das Generieren von weiterem Wissen über die Mönche im Spiel,\npassiert völlig unabhängig vom Weglegen der ersten Karte -- also unabhängig von \nder Bestimmung des Täters.\n4. Also ja, der Kapuzenüberhang bei den Verdächtigen spricht schon eher für \neinen Täter mit Kapuze, aber bedeuten mehr Kapuzen mehr Evidenz?\nDer Unterschied beträgt ja fix nur 1 Karte!\nMeine Antwort wäre an dieser Stelle des denkens: Ok, es macht natürlich was aus, aber ich kann mir nicht\nvorstellen, dass mehr verdächtige Kapuzen gleichzeitig mehr Evidenz für einen \nKapuzentäter sprechen^[Spoiler: Hätte ich an das Extrembeispiel gedacht: 'Alle Verdächtigen haben eine Kapuze, damit ist die Wahrscheinlichkeit, dass der Täter eine Kapuze trägt 100\\ %!' $\\rightarrow$ dann wären meine Gedanken vielleicht früher richtig abgebogen!].\n\n\nTatsächlich war ich ziemlich alleine mit dieser Meinung. Aber sollte hier\nüberhaupt auf der Ebene von \"Meinungen\" diskutiert werden? Es geht ja nicht darum\nob man den Geschmack eines Zitronenkuchen gut findet oder nicht, oder wie \nsinnlos man die \"kreative\" Namensgebung von Weißtönen bei Küchenfronten \nauf einer Skala von \"extrem sinnlos\" bis \"ziemlich sinnlos\" einstufen würde.\nDarüber kann man diskutieren. Darüber kann man unterschiedliche Meinungen haben.\nAber wenn es um Wahrscheinlichkeiten in einem Urnenmodell geht, gibt es keine\nzwei Meinungen und schon gar keine \"alternativen Wahrheiten\". Warum das ganze\nein Urnenmodell ist, beschreibe ich im nächsten Abschnitt und Spoiler: Es \nhat nichts damit zu tun dass ein Mönch ermordet und eingeäschert wurde.\n\n\n## Die Berechnung\n    \n<img src=\"media/switching.jpg\" alt=\"Logiktrainer Frontpage\" style=\"float: right; width: 35%; margin-left: 20px; margin-bottom: 10px;\"/>    \n    \nIm Spiel dreht sich alles um:\"Wer ist verdächtig?\" Sofort können alle auf der\nHand befindlichen Charakterkarten als Täter ausgeschlossen werden. Im Laufe des Spiels\nkommt man in Kontakt mit anderen Karten und lernt neue \"Unverdächtige\" \nkennen. Der Fokus bleibt aber:\"Who did it?\" \nMit dieser Denkweise war es schwierig irgendeine Art von\nWahrscheinlichkeiten aufzubauen. Wenn man den Fokus allerdings **umdreht** und sich\nauf die \"Unverdächtigen\" konzentriert, wird unser Problem zu einem charmanten\nUrnenproblem. Ich möchte an dieser Stelle gerne explizit ohne zynischen Unterton\nals Urnenmodell-Fan outen. \n\nAlso denken wir mal über diesen Prozess nach und versetzen uns in einen einzelnen Spieler.\nWir haben einen Kartenstapel mit Charakteren. Aus diesem wurde die Täterkarte \nbereits entfernt. Diese werden (nicht vollständig) ausgeteilt^[Man kann auf andere Weise Kenntnis über diese Karten erlangen im Spiel. Also es sind potentiell alle Karten für alle zugänglich.]. \nDas heißt, *wir ziehen ohne Zurücklegen*. Im Laufe des Spiels lernen wir weitere \nUnverdächtige kennen. Das kann auf vielfältige Art und Weise passieren. \nVereinfachen wir das und sagen wir, es sind Zufallsziehungen^[Natürlich kann es vorkommen, dass bestimmte Spieler versuchen, bestimmte Karten strategisch zurückzuhalten. Aber der grobe Prozess ist vermutlich durch eine Zufallsziehung ganz gut angenähert.].\n\nHaben wir also z. B. konkret noch 6 Verdächtige auf unserer Liste:\n\n- 5 mit Kapuze\n- 1 mit Glatze\n\nDann könnten wir sagen, wir haben bereits **18 Unverdächtige**:\n\n- 7 mit Kapuze (12 - 5)\n- 11 mit Glatze (12 - 1)\n\nWie hoch ist nun die Wahrscheinlichkeit, dass so etwas vorkommt? Die Antwort darauf\nist das, was alle Statistiker sagen würden:\"It depends.\"\nDenn wir wissen ja nicht, aus welcher Verteilung diese Karten gezogen wurden. \nStammen sie aus der Verteilung: \n\n- Täter hat eine Kapuze\n- Täter hat eine Glatze\n\nDenn das verändert natürlich die Wahrscheinlichkeiten, mit der eine Karte gezogen \nwird. Also wäre es wohl das Vernünftigste, die Wahrscheinlichkeit für die\nbisherigen \"Ziehungen\" (Unverdächtige) für beide Szenarien zu betrachten und diese\nWahrscheinlichkeiten dann zu vergleichen!\n\nDa wir ohne Zurücklegen ziehen, brauchen wir die Hypergeometrische Verteilung. \nIch halte mich dabei an die Notation der \n[Wikipedia-Seite.](https://en.wikipedia.org/wiki/Hypergeometric_distribution)\n@eq-hypergeom-kapuze gibt uns die Wahrscheinlichkeit wieder, so ein Ergebnis\nzu sehen, unter der Bedingung, dass der Täter eine Kapuze hat. @eq-hypergeom-glatze\nzeigt dasselbe für einen Täter mit Glatze.\n\n$$\n\\Pr(X = k)\n= \\frac{\\binom{K}{k}\\,\\binom{N-K}{\\,n-k\\,}}{\\binom{N}{n}}\n$$ {#eq-hypergeom}\n\n::::{.columns}\n\n:::{.column width=\"50%\"}\n\n$$\n\\Pr(X = 7\\,|\\, \\text{T = Kapuze})\n= \\frac{\\binom{11}{7}\\,\\binom{12}{\\,11\\,}}{\\binom{23}{18}}\n$$ {#eq-hypergeom-kapuze}\n\n:::\n\n:::{.column width=\"50%\"}\n\n$$\n\\Pr(X = 7\\,|\\, \\text{T = Glatze})\n= \\frac{\\binom{12}{7}\\,\\binom{11}{\\,11\\,}}{\\binom{23}{18}}\n$$ {#eq-hypergeom-glatze}\n\n:::\n\n::::\n\n- X = eine Zufallsvariable: $X \\mid T \\sim \\operatorname{Hypergeom}\\bigl(N, K(T), n\\bigr)$\n- K = Anzahl der gesamten Kapuzen Personen zu Beginn (hängt vom Tätertyp ab, also mit oder ohne Kapuze)\n- k = Anzahl der gezogenen Kapuzen Personen\n- N = Anzahl der Karten (nach Entfernung der Täterkarte)\n- n = Anzahl der gezogenen Karten insgesamt\n- N - K = Anzahl der gesamten Glatzen Personen zu Beginn\n- n - k = Anzahl der gezogenen Glatzen Personen\n- T = \"Täter\"\n\n\nDas ist ja alles gut und schön, aber wir wollen ja eigentlich wissen, wie hoch die\nWahrscheinlichkeit ist, dass der Täter eine Kapuze hat. Das bedeutet, ich möchte \nwissen, wie wahrscheinlich es ist, dass die Ziehungen aus der Verteilung mit der \nfehlenden Kapuzenperson stammen (Kapuzen = 11, Glatzen = 12).\nOder anders ausgedrückt:\n$Pr(\\text{ T = Kapuze}\\,|\\,k = 7)$. D. h. wir wollen die bedingte \nWahrscheinlichkeit aus @eq-hypergeom-kapuze \"umdrehen\". Und wer könnte hier besser helfen als\n[Thomas Bayes](https://en.wikipedia.org/wiki/Thomas_Bayes)? @eq-bayes zeigt\ndie Anwendung des Bayes-Theorem auf unser konkretes Beispiel.\nUm die Formel nicht zu breit zu machen, wird statt \n$\\text{T = Kapuze}$ nun verkürzt $\\text{Kpz}$ bzw. $\\text{Glz}$ geschrieben.\n\n\n$$\n\\Pr(\\, \\text{Kpz}\\,|\\,X = 7)\n= \\frac{\\Pr(X = 7\\,|\\, \\text{Kpz})\\, \\Pr(\\text{Kpz})}{\\Pr(X = 7\\,|\\, \\text{Kpz})\\, \\Pr(\\text{Kpz}) + \\Pr(X = 7\\,|\\, \\text{Glz})\\, \\Pr(\\text{Glz})}\n$$ {#eq-bayes}\n\nHier sind $\\Pr(\\text{T = Kapuze})$ und $\\Pr(\\text{T = Glatze})$ die \nPriorwahrscheinlichkeiten -- d. h. wie wahrscheinlich es a priori ist, dass der\nTäter eine Kapuze hat oder eine Glatze. Da ganz zu Beginn gemischt und zufällig\ngezogen wird, ist diese Wahrscheinlichkeit bei 0.5.\nJetzt wird es Zeit, die Wahrscheinlichkeit zu ermitteln.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt_kapuze = dhyper(x = 7, m = 11, n = 12, k = 18) # P(k=7|T = Kapuze)\nt_glatze = dhyper(x = 7, m = 12, n = 11, k = 18) # P(k=7|T = Glatze)\n\nzaehler = t_kapuze * 0.5\nnenner  = t_kapuze * 0.5 + t_glatze * 0.5\n\nzaehler/nenner # P(T = Kapuze|k=7)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8333333\n```\n\n\n:::\n:::\n\n\n\nDas Ergebnis war 0.8333333. Es ließ mich und meine Intuition ratlos zurück.\nIch bin mir nicht sicher womit ich gerechnet habe, aber eher nicht damit,\ndass hier einfach \"kompliziert\" $\\frac{5}{6}$ ausgerechnet wurde. Ist es wirklich\nso einfach? Irgendwie war ich immer noch skeptisch. Alte Intuitionen, alte Gefühle\nkönnen nicht so einfach von heute auf morgen weggewaschen werden.\nWas an Statistik wirklich toll ist, dass man einfach mal drauflos simulieren kann\num ein Problem lösen. Genau das passiert im folgenden Abschnitt.\n\n\n## Die Simulation\n\nDie Simulation ist der letzte Test, um zu prüfen, ob zuvor\nirgendwo ein Fehler passiert ist.\nDie Simulation baut den Vorgang beim\nSpielen grob nach. Wir entfernen also zuerst die Täterkarte und bestimmen dann zufällig\n18 Charaktere, die unverdächtig gelabelt werden. Die restlichen 6 sind verdächtig.\nWir speichern das Verhältnis von \"Verdächtigen mit Kapuze\" vs. \"mit Glatze\".\nHaben wir das 20\\ 000 Mal gemacht (oder auch noch öfter), können wir vergleichen, ob die Anzahl\ndas Verhältnis Kapuze zu Glatze etwas mit der wahren Ausprägung zu tun hat!\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nLEN = 20000         # wie viele Durchläufe\nsecond_sample = 18 # wie viele Karten sollen \"unverdächtig\" sein?\nanz_karten = 24\n\n# die Karten\ndt = data.table(kartennr = 1:anz_karten, \n                typ = rep(c(\"kapuze\", \"no_kapuze\"), each = anz_karten/2))\n\n\n# output vektoren erzeugen\ntruth         = vector(mode = \"character\", length = LEN)\nanteil_kapuze = vector(mode = \"numeric\", length = LEN)\n\nweg = sample(1:anz_karten, LEN, replace = TRUE) # alle taeter in der sim\n\nset.seed(1707)\n\nfor(i in 1:LEN){\n  \n  truth_dt = dt[weg[i],] # verdaechtiger\n  truth[i] = truth_dt[,typ] # eigenschaft des verdaechtigen\n  rest = dt[-weg[i],] # aus dem restlichen datensatz rausnehmen\n  \n  weg2  = sample(rest$kartennr, \n                 second_sample) # die unverdächtigen werden gezogen\n  rest2 = rest[!kartennr %in% weg2] %>% \n    rbind(.,truth_dt) # restliche Verdaechtige + echter Taeter\n  \n  anteil_kpz = rest2[, .N, keyby = typ] %>% # anteil an verdaechtigen mit kapuze!\n    .[, rel := N / sum(N)] %>% \n    .[typ == \"kapuze\", rel]\n    \n  if(length(anteil_kpz) > 0){\n  anteil_kapuze[i] = anteil_kpz\n  } else {\n    anteil_kapuze[i] = 0  \n  }\n  \n  cat(i,\"\\r\")\n}\n\nres_dt = data.table(truth, anteil_kapuze) %>% \n  .[, no_kaputze_truth := ifelse(truth == \"no_kapuze\", 1L, 0L)]\n\n\nsaveRDS(res_dt, file = \"data/res_dt.rds\")\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\n@tbl-sim-data zeigt die ersten 6 Zeilen des durch die Simulation entstandenen\nDatensatzes. Jede Zeile beinhaltet die Eigenschaften des Täters \n(Spalte `truth`: `kapuze` oder `no_kapuze`)\nund den Anteil der Verdächtigen mit Kapuze in den letzten 6 Karten.\n\n\n\n\n::: {#tbl-sim-data .cell tbl-cap='Simulierte Daten — erste 6 Zeilen'}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ztouvnadoq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ztouvnadoq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ztouvnadoq thead, #ztouvnadoq tbody, #ztouvnadoq tfoot, #ztouvnadoq tr, #ztouvnadoq td, #ztouvnadoq th {\n  border-style: none;\n}\n\n#ztouvnadoq p {\n  margin: 0;\n  padding: 0;\n}\n\n#ztouvnadoq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ztouvnadoq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ztouvnadoq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ztouvnadoq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ztouvnadoq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ztouvnadoq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ztouvnadoq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ztouvnadoq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ztouvnadoq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ztouvnadoq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ztouvnadoq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ztouvnadoq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ztouvnadoq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ztouvnadoq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ztouvnadoq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ztouvnadoq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ztouvnadoq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ztouvnadoq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ztouvnadoq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ztouvnadoq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ztouvnadoq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ztouvnadoq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ztouvnadoq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ztouvnadoq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ztouvnadoq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ztouvnadoq .gt_left {\n  text-align: left;\n}\n\n#ztouvnadoq .gt_center {\n  text-align: center;\n}\n\n#ztouvnadoq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ztouvnadoq .gt_font_normal {\n  font-weight: normal;\n}\n\n#ztouvnadoq .gt_font_bold {\n  font-weight: bold;\n}\n\n#ztouvnadoq .gt_font_italic {\n  font-style: italic;\n}\n\n#ztouvnadoq .gt_super {\n  font-size: 65%;\n}\n\n#ztouvnadoq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ztouvnadoq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ztouvnadoq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ztouvnadoq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ztouvnadoq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ztouvnadoq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ztouvnadoq .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ztouvnadoq .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ztouvnadoq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"truth\">truth</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"anteil_kapuze\">anteil_kapuze</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"truth\" class=\"gt_row gt_left\">kapuze</td>\n<td headers=\"anteil_kapuze\" class=\"gt_row gt_right\">0.5000000</td></tr>\n    <tr><td headers=\"truth\" class=\"gt_row gt_left\">no_kapuze</td>\n<td headers=\"anteil_kapuze\" class=\"gt_row gt_right\">0.3333333</td></tr>\n    <tr><td headers=\"truth\" class=\"gt_row gt_left\">kapuze</td>\n<td headers=\"anteil_kapuze\" class=\"gt_row gt_right\">0.3333333</td></tr>\n    <tr><td headers=\"truth\" class=\"gt_row gt_left\">kapuze</td>\n<td headers=\"anteil_kapuze\" class=\"gt_row gt_right\">0.6666667</td></tr>\n    <tr><td headers=\"truth\" class=\"gt_row gt_left\">no_kapuze</td>\n<td headers=\"anteil_kapuze\" class=\"gt_row gt_right\">0.1666667</td></tr>\n    <tr><td headers=\"truth\" class=\"gt_row gt_left\">no_kapuze</td>\n<td headers=\"anteil_kapuze\" class=\"gt_row gt_right\">0.3333333</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n@fig-gda-sim1 fasst das Ergebnis sehr kompakt zusammen. Es wird auch hier\nklar, was wir schon vorher gesehen haben: Je mehr Verdächtige eine Kapuze haben,\ndesto wahrscheinlicher ist es auch, dass der Täter tatsächlich eine Kapuze trägt.\nDas wurde in @fig-gda-sim1 so umgesetzt, dass innerhalb jedes möglichen Anteils\nvon Verdächtigen mit Kapuze, der Anteil der Täter mit Kapuze ermittelt wurde.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplt_data = res_dt[, .(anteil_kapuze_truth = sum(truth == \"kapuze\") / .N, \n                      anz_obs = .N), \n       keyby = \"anteil_kapuze\"]\n\np = ggplot(data = plt_data, aes(x = anteil_kapuze, y = anteil_kapuze_truth)) + \n  geom_point(aes(size = anz_obs), shape = 15, color = \"steelblue\") +\n  geom_line( color = \"steelblue\") +\n  coord_cartesian(xlim = c(0,1), ylim = c(0,1)) + \n  labs(x = \"Anteil der verbliebenen verdächtigen Personen mit Kapuze\", \n       y = \"Anteil der Täter mit Kapuze (Wahrheit)\",\n       size = \"Anzahl\") +\n  theme_bw()\n\np \n```\n\n::: {.cell-output-display}\n![Zusammenspiel vom Anteil verbliebener Verdächtiger mit Kapuze und dem Täteranteil mit Kapuze](index_files/figure-html/fig-gda-sim1-1.png){#fig-gda-sim1 width=672}\n:::\n:::\n\n\n\n\n## Die Strategie\n\nJede richtige Enthüllung, z. B. \"der Täter hat eine Kapuze\", bringt 2 Siegpunkte.\nFür jede falsche Enthüllung wird ein Punkt abgezogen (Minuspunkt).\nMan könnte sich jetzt fragen, ab welcher Wahrscheinlichkeit man eine\nEnthüllung machen sollte, denn man will ja das Spiel gewinnen.\nAnhand des Punkteschlüssels und der vorliegenden\nKarten kann man sich die erwarteten Punkte leicht ausrechnen, wie @eq-punkte zeigt.\n\n$$\n\\begin{align}\np \\;&=\\; \\frac{\\#\\{\\style{font-size:87%}{\\text{Kapuze unter den verbleibenden Verdächtigen}}\\}}\n     {\\#\\{\\style{font-size:87%}{\\text{verbleibende Verdächtige}}\\}}\\\\\n\\mathbb{E}[\\,\\text{Punkte} \\mid p\\,] &= 2p + (-1)(1-p) \\\\ \n  &= 3p - 1\n\\end{align}\n$$ {#eq-punkte}\n\n\nWenn wieder angenommen 6 Verdächtige übrig sind, können wir die\nzu erwartenden Punkte wie in @fig-erw darstellen. Auf der x-Achse sind alle möglichen\nWahrscheinlichkeiten bei 6 verbliebenen Karten. Der Zusammenhang ist nicht sehr komplex. \nDie Punkte, die man sich  erwarten darf, steigen linear mit der Anzahl der Karten.\nIch muss zugeben, dieser Verlauf agiert gerade hervorragend als eine Art \nInformations-Verdauungshilfe für mein Hirn. @eq-abwann zeigt, ab welcher \nWahrscheinlichkeit es sich auszahlt jemanden zu enthüllen. Also die Wahrscheinlichkeit\nsollte $> \\frac{1}{3}$ sein, was natürlich etwas seltsam anmutet, denn bei\neinem dichotomen Merkmal würde man dann die andere Eigenschaft enthüllen, also\nz. B. sagen, dass der Täter eine Glatze hat, weil hier die Aussichten auf Punkte \ndeutlich höher sind (Erwartungswert bei \\frac{2}{3} wäre genau 1 Punkt).\n\n$$\n3p - 1 \\ge 0\n\\;\\Longrightarrow\\;\np \\ge \\tfrac{1}{3}\n$$ {#eq-abwann}\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Die zu erwartenden Punkte bei 6 verbliebenen Verdächtigen. Alle Anteile von 1/6 bis 6/6.](index_files/figure-html/fig-erw-1.png){#fig-erw width=672}\n:::\n:::\n\n\n\n## Die Conclusio\n\nBeim Zusammenschreiben dieses Posts habe ich bemerkt, dass ich mich schön\nlangsam daran gewöhne, dass die Realität der Wahrscheinlichkeiten so ist, wie sie ist.\nEs wird vielleicht noch länger dauern meine Intuition zu shapen, aber die \nKonfrontation mit solchen Themen beschleunigt den Prozess dramatisch. Also,\nfalls ihr Mal \"Das Geheimnis der Abtei\" spielt, wisst ihr nun, dass man\nsich gar nicht allzu sicher sein muss, um Punkte zu lukrieren. Schon mit \neiner Wahrscheinlichkeit von z. B. $\\frac{2}{3}$ darf man sich schon einen\nPunkt erwarten! In the long run.\n\n\n\n<br>\n\n<br>\n\n::: {style='text-align:center;'}\n\n\n\n{{< bi file-spreadsheet size=66px >}}\n\n\n\n\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.4.9000/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/jquery-1.11.2/jquery.min.js\"></script>\n<link href=\"../../site_libs/jquery-ui-1.11.4/jquery-ui.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/jquery-ui-1.11.4/jquery-ui.min.js\"></script>\n<script src=\"../../site_libs/jquery-ui-1.11.4/jquery.ui.touch-punch.min.js\"></script>\n<link href=\"../../site_libs/c3-0.4.11/c3.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/c3-0.4.11/c3.min.js\"></script>\n<script src=\"../../site_libs/d3-3.5.5/d3.v3.min.js\"></script>\n<link href=\"../../site_libs/pivottable-2.19.0/pivot.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/d3_renderers.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/c3_renderers.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.cs.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.da.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.de.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.es.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.fr.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.it.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.nl.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.pl.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.pt.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.ru.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.sq.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.tr.min.js\"></script>\n<script src=\"../../site_libs/pivottable-2.19.0/pivot.zh.min.js\"></script>\n<link href=\"../../site_libs/subtotal-1.10.0/subtotal.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/subtotal-1.10.0/subtotal.min.js\"></script>\n<script src=\"../../site_libs/polyfill-0.1/polyfill.min.js\"></script>\n<link href=\"../../site_libs/rpivotTable_style-0.1/rpivotTable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/rpivotTable-binding-0.3.0/rpivotTable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}